#ifndef __ECM_DISPENSE_BACKLIGHT_H
#define __ECM_DESPENSE_BACKLIGHT_H

#define NUM_ECM_DISPENSE_LEDS 78

int ECM_DISPENSE_OFFSET = NUM_RWR_CONTROL_LEDS;

int ECM_DISPENSE_LED_LIST[NUM_ECM_DISPENSE_LEDS -4] = {0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73};

CRGB ECM_DISPENSE_LEDS[NUM_ECM_DISPENSE_LEDS];

void UpdateECMDispenseBacklightLEDS(int value){
  BackLighting::updateBacklight(value, ECM_DISPENSE_LED_LIST,NUM_ECM_DISPENSE_LEDS-4,ECM_DISPENSE_LEDS);
    BackLighting::updateLipLEDS(NUM_ECM_DISPENSE_LEDS,ECM_DISPENSE_OFFSET,ECM_DISPENSE_LEDS);
}


void onCmsdJetSelLChange(unsigned int newValue) {
  if(newValue > 0){newValue = 255;}
  ECM_DISPENSE_LEDS[74] = CHSV(100,255,newValue);
  ECM_DISPENSE_LEDS[75] = CHSV(100,255,newValue);
  ECM_DISPENSE_LEDS[76] = CHSV(100,255,newValue);
  ECM_DISPENSE_LEDS[77] = CHSV(100,255,newValue);
  BackLighting::updateLipLEDS(NUM_ECM_DISPENSE_LEDS,ECM_DISPENSE_OFFSET,ECM_DISPENSE_LEDS);
}DcsBios::IntegerBuffer cmsdJetSelLBuffer(FA_18C_hornet_CMSD_JET_SEL_L, onCmsdJetSelLChange);


#endif